{%  extends 'base.html' %}

{% block title %} UPCOMING LAUNCHES {%endblock%}



{%block body%}
<div class="container-fluid p-3 my-3 bg-dark text-white">


<!-- Button to Open the Modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
    Notify
    </button>
    <div class="container">

        <!-- The Modal -->
        <div class="modal fade" id="myModal">
          <div class="modal-dialog modal-sm">
            <div class="modal-content">
            
              <!-- Modal Header -->
              <div class="modal-header">
                <h4 class="modal-title">Launch Notification</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              
              <!-- Modal body -->
              <div class="modal-body">
                Would you like to receive a text reminder regarding the next launch?
              </div>
              
              <!-- Modal footer -->
              <div class="modal-footer">

                <form action="/reminders" method="POST">
                <button id="reminder" type="submit" class="btn btn-dark" name ='reminder' value='notify'>Yes</button>
                </form> 

                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                
              </div>
              
            </div>
          </div>
        </div>
        
      </div>




<h1 class="text-center mb-5">UPCOMING LAUNCHES</h1>

{% for launch in launches %}

    {% if launch.upcomingLaunch_id not in saved_launches %}
    <!-- <div class="container-md">
    <div class= "card mb-3">
        <div class="card-body bg-secondary text-white" id="card-body-color">
            <img src="{{launch.image}}" class="card-image" alt="rocket on launch pad" width="250"px>
                <h5 class ="card-title ">{{launch.name}}<br></h5>
                    <p id="liftoff">{{launch.window_start | formatdatetime}} (PST)<br></p>
            Status: {{launch.status_name}}
            Location: {{launch.pad_location}}
            <a href="{{launch.wiki_url}}">More info</a>

            <form action="/add_launch" method="POST">

                <input id="follow_input" name="launch" type="hidden" value="{{launch.upcomingLaunch_id}}">
            
                    <button id=follow type="submit" class="btn btn-primary" value="{{launch.upcomingLaunch_id}}">Follow</button>
            
                </form>
        </div>
        
    </div>
</div> -->

    <div class="container-md">
        <div class="card mb-4 bg-secondary border border-light" style="max-width: 1000px;">
            <div class="row no-gutters">
            <div class="col-md-5">
                <img src="{{launch.image}}" class="card-image .justify-content-md-center" alt="rocket on launch pad" height="300"px width="379"px>
            </div>
                <div class="card-body bg-secondary text-white  ">
                <h4 class="card-title">{{launch.name}}</h4>
                <p class="card-text" id="liftoff">Liftoff: {{launch.window_start | formatdatetime}} (PST)</p>
                <p class="card-text" id="liftoff">Status: {{launch.status_name}}</p>
                <p class="card-text " id="liftoff">Location: {{launch.pad_location}}</p>
                <p><a href="{{launch.wiki_url}}" class="text-warning">More info</a></p>
                    <form action="/add_launch" method="POST">
                        <input id="follow_input" name="launch" type="hidden" value="{{launch.upcomingLaunch_id}}">
                            <button id=follow type="submit" class="btn btn-primary" value="{{launch.upcomingLaunch_id}}">Follow</button>
                    </form>
            
                </div>
            </div>
            <!-- </div> -->
        </div>
    </div>       
    {%endif%}   

{% endfor %}

<script>
    $("#myModalID").modal('toggle');
    $('#myModalID').modal('show');
    $('#myModalID').modal('hide');
</script>
</div>
{%endblock%}


 


